{"ast":null,"code":"export { i as context } from './index-deps.js';\nimport { c as commonjsGlobal, p as parse_1, l as lib$2, a as lib$3, j as jsonParse } from './fetch-deps.js';\nimport { _ as __awaiter, d as devUtils, p as parseBody, g as getPublicUrlFromRequest, N as NetworkError } from './RequestHandler-deps.js';\nexport { R as RequestHandler, f as cleanUrl, e as compose, c as createResponseComposition, b as defaultContext, a as defaultResponse, m as matchRequestUrl, r as response } from './RequestHandler-deps.js';\nimport { store } from '@mswjs/cookies';\nimport { i as isStringEqual, R as RestHandler } from './rest-deps.js';\nexport { a as RESTMethods, R as RestHandler, r as rest, b as restContext } from './rest-deps.js';\nimport { t as tryCatch, p as parseGraphQLRequest, G as GraphQLHandler } from './graphql-deps.js';\nexport { G as GraphQLHandler, g as graphql, a as graphqlContext } from './graphql-deps.js';\nimport { m as mergeRight } from './errors-deps.js';\nimport { createInterceptor } from '@mswjs/interceptors';\nimport { interceptFetch } from '@mswjs/interceptors/lib/interceptors/fetch';\nimport { interceptXMLHttpRequest } from '@mswjs/interceptors/lib/interceptors/XMLHttpRequest';\nimport './xml-deps.js';\nimport '@mswjs/interceptors/lib/utils/getCleanUrl';\nvar lib$1 = {};\nvar StrictEventEmitter$1 = {};\nvar events = {\n  exports: {}\n};\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nevents.exports = EventEmitter;\nevents.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function () {\n    return defaultMaxListeners;\n  },\n  set: function (arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n  var handler = events[type];\n  if (handler === undefined) return false;\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i) ReflectApply(listeners[i], this, args);\n  }\n  return true;\n};\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n  return target;\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n};\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n  return this;\n};\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this;\n\n  // not listening for removeListener, no need to emit\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n  listeners = events[type];\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n  return this;\n};\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n  if (events !== undefined) {\n    var evlistener = events[type];\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n  return 0;\n}\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i) copy[i] = arr[i];\n  return copy;\n}\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) list[index] = list[index + 1];\n  list.pop();\n}\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    }\n    eventTargetAgnosticAddListener(emitter, name, resolver, {\n      once: true\n    });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, {\n        once: true\n      });\n    }\n  });\n}\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\nvar __extends = commonjsGlobal && commonjsGlobal.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __spreadArrays = commonjsGlobal && commonjsGlobal.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n};\nStrictEventEmitter$1.__esModule = true;\nStrictEventEmitter$1.StrictEventEmitter = void 0;\nvar events_1 = events.exports;\nvar StrictEventEmitter = /** @class */function (_super) {\n  __extends(StrictEventEmitter, _super);\n  function StrictEventEmitter() {\n    return _super.call(this) || this;\n  }\n  StrictEventEmitter.prototype.on = function (event, listener) {\n    return _super.prototype.on.call(this, event.toString(), listener);\n  };\n  StrictEventEmitter.prototype.once = function (event, listener) {\n    return _super.prototype.on.call(this, event.toString(), listener);\n  };\n  StrictEventEmitter.prototype.off = function (event, listener) {\n    return _super.prototype.off.call(this, event.toString(), listener);\n  };\n  StrictEventEmitter.prototype.emit = function (event) {\n    var data = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      data[_i - 1] = arguments[_i];\n    }\n    return _super.prototype.emit.apply(this, __spreadArrays([event.toString()], data));\n  };\n  StrictEventEmitter.prototype.addListener = function (event, listener) {\n    return _super.prototype.addListener.call(this, event.toString(), listener);\n  };\n  StrictEventEmitter.prototype.removeListener = function (event, listener) {\n    return _super.prototype.removeListener.call(this, event.toString(), listener);\n  };\n  return StrictEventEmitter;\n}(events_1.EventEmitter);\nStrictEventEmitter$1.StrictEventEmitter = StrictEventEmitter;\n(function (exports) {\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    });\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n  exports.__esModule = true;\n  exports.StrictEventEmitter = void 0;\n  var StrictEventEmitter_1 = StrictEventEmitter$1;\n  __createBinding(exports, StrictEventEmitter_1, \"StrictEventEmitter\");\n})(lib$1);\nvar lib = {};\nvar until$1 = {};\nObject.defineProperty(until$1, \"__esModule\", {\n  value: true\n});\n/**\n * Gracefully handles a given Promise factory.\n * @example\n * cosnt [error, data] = await until(() => asyncAction())\n */\nuntil$1.until = async promise => {\n  try {\n    const data = await promise().catch(error => {\n      throw error;\n    });\n    return [null, data];\n  } catch (error) {\n    return [error, null];\n  }\n};\nObject.defineProperty(lib, \"__esModule\", {\n  value: true\n});\nvar until_1 = until$1;\nvar until = lib.until = until_1.until;\n\n/**\r\n * Attempts to resolve a Service Worker instance from a given registration,\r\n * regardless of its state (active, installing, waiting).\r\n */\nconst getWorkerByRegistration = (registration, absoluteWorkerUrl, findWorker) => {\n  const allStates = [registration.active, registration.installing, registration.waiting];\n  const existingStates = allStates.filter(Boolean);\n  const mockWorker = existingStates.find(worker => {\n    return findWorker(worker.scriptURL, absoluteWorkerUrl);\n  });\n  return mockWorker || null;\n};\n\n/**\r\n * Returns an absolute Service Worker URL based on the given\r\n * relative URL (known during the registration).\r\n */\nfunction getAbsoluteWorkerUrl(relativeUrl) {\n  return new URL(relativeUrl, location.origin).href;\n}\n\n/**\r\n * Returns an active Service Worker instance.\r\n * When not found, registers a new Service Worker.\r\n */\nconst getWorkerInstance = (url, options = {}, findWorker) => __awaiter(void 0, void 0, void 0, function* () {\n  // Resolve the absolute Service Worker URL.\n  const absoluteWorkerUrl = getAbsoluteWorkerUrl(url);\n  const mockRegistrations = yield navigator.serviceWorker.getRegistrations().then(registrations => registrations.filter(registration => getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker)));\n  if (!navigator.serviceWorker.controller && mockRegistrations.length > 0) {\n    // Reload the page when it has associated workers, but no active controller.\n    // The absence of a controller can mean either:\n    // - page has no Service Worker associated with it\n    // - page has been hard-reloaded and its workers won't be used until the next reload.\n    // Since we've checked that there are registrations associated with this page,\n    // at this point we are sure it's hard reload that falls into this clause.\n    location.reload();\n  }\n  const [existingRegistration] = mockRegistrations;\n  if (existingRegistration) {\n    // When the Service Worker is registered, update it and return the reference.\n    return existingRegistration.update().then(() => {\n      return [getWorkerByRegistration(existingRegistration, absoluteWorkerUrl, findWorker), existingRegistration];\n    });\n  }\n  // When the Service Worker wasn't found, register it anew and return the reference.\n  const [error, instance] = yield until(() => __awaiter(void 0, void 0, void 0, function* () {\n    const registration = yield navigator.serviceWorker.register(url, options);\n    return [\n    // Compare existing worker registration by its worker URL,\n    // to prevent irrelevant workers to resolve here (such as Codesandbox worker).\n    getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker), registration];\n  }));\n  // Handle Service Worker registration errors.\n  if (error) {\n    const isWorkerMissing = error.message.includes('(404)');\n    // Produce a custom error message when given a non-existing Service Worker url.\n    // Suggest developers to check their setup.\n    if (isWorkerMissing) {\n      const scopeUrl = new URL((options === null || options === void 0 ? void 0 : options.scope) || '/', location.href);\n      throw new Error(devUtils.formatMessage(`\\\nFailed to register a Service Worker for scope ('${scopeUrl.href}') with script ('${absoluteWorkerUrl}'): Service Worker script does not exist at the given path.\n\nDid you forget to run \"npx msw init <PUBLIC_DIR>\"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`));\n    }\n    // Fallback error message for any other registration errors.\n    throw new Error(devUtils.formatMessage('Failed to register the Service Worker:\\n\\n%s', error.message));\n  }\n  return instance;\n});\n\n/**\r\n * Prints a worker activation message in the browser's console.\r\n */\nfunction printStartMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  const message = args.message || 'Mocking enabled.';\n  console.groupCollapsed(`%c${devUtils.formatMessage(message)}`, 'color:orangered;font-weight:bold;');\n  console.log('%cDocumentation: %chttps://mswjs.io/docs', 'font-weight:bold', 'font-weight:normal');\n  console.log('Found an issue? https://github.com/mswjs/msw/issues');\n  console.groupEnd();\n}\n\n/**\r\n * Signals the worker to enable the interception of requests.\r\n */\nfunction enableMocking(context, options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    context.workerChannel.send('MOCK_ACTIVATE');\n    return context.events.once('MOCKING_ENABLED').then(() => {\n      printStartMessage({\n        quiet: options.quiet\n      });\n    });\n  });\n}\n\n/**\r\n * Creates a communication channel between the client\r\n * and the Service Worker associated with the given event.\r\n */\nconst createBroadcastChannel = event => {\n  const port = event.ports[0];\n  return {\n    /**\r\n     * Sends a text message to the connected Service Worker.\r\n     */\n    send(message) {\n      if (port) {\n        port.postMessage(message);\n      }\n    }\n  };\n};\nfunction getAllCookies() {\n  return parse_1(document.cookie);\n}\n/**\r\n * Returns relevant document cookies based on the request `credentials` option.\r\n */\nfunction getRequestCookies(request) {\n  /**\r\n   * @note No cookies persist on the document in Node.js: no document.\r\n   */\n  if (typeof document === 'undefined' || typeof location === 'undefined') {\n    return {};\n  }\n  switch (request.credentials) {\n    case 'same-origin':\n      {\n        // Return document cookies only when requested a resource\n        // from the same origin as the current document.\n        return location.origin === request.url.origin ? getAllCookies() : {};\n      }\n    case 'include':\n      {\n        // Return all document cookies.\n        return getAllCookies();\n      }\n    default:\n      {\n        return {};\n      }\n  }\n}\nfunction setRequestCookies(request) {\n  var _a;\n  store.hydrate();\n  request.cookies = Object.assign(Object.assign({}, getRequestCookies(request)), Array.from((_a = store.get(Object.assign(Object.assign({}, request), {\n    url: request.url.toString()\n  }))) === null || _a === void 0 ? void 0 : _a.entries()).reduce((cookies, [name, {\n    value\n  }]) => Object.assign(cookies, {\n    [name]: value\n  }), {}));\n  request.headers.set('cookie', Object.entries(request.cookies).map(([name, value]) => `${name}=${value}`).join('; '));\n}\n\n/**\r\n * Ensures that an empty GET request body is always represented as `undefined`.\r\n */\nfunction pruneGetRequestBody(request) {\n  if (request.method && isStringEqual(request.method, 'GET') && request.body === '') {\n    return undefined;\n  }\n  return request.body;\n}\n\n/**\r\n * Converts a given request received from the Service Worker\r\n * into a `MockedRequest` instance.\r\n */\nfunction parseWorkerRequest(rawRequest) {\n  const request = {\n    id: rawRequest.id,\n    cache: rawRequest.cache,\n    credentials: rawRequest.credentials,\n    method: rawRequest.method,\n    url: new URL(rawRequest.url),\n    referrer: rawRequest.referrer,\n    referrerPolicy: rawRequest.referrerPolicy,\n    redirect: rawRequest.redirect,\n    mode: rawRequest.mode,\n    params: {},\n    cookies: {},\n    integrity: rawRequest.integrity,\n    keepalive: rawRequest.keepalive,\n    destination: rawRequest.destination,\n    body: pruneGetRequestBody(rawRequest),\n    bodyUsed: rawRequest.bodyUsed,\n    headers: new lib$2.Headers(rawRequest.headers)\n  };\n  // Set document cookies on the request.\n  setRequestCookies(request);\n  // Parse the request's body based on the \"Content-Type\" header.\n  request.body = parseBody(request.body, request.headers);\n  return request;\n}\n\n/**\r\n * Returns a mocked response for a given request using following request handlers.\r\n */\nconst getResponse = (request, handlers, resolutionContext) => __awaiter(void 0, void 0, void 0, function* () {\n  const relevantHandlers = handlers.filter(handler => {\n    return handler.test(request, resolutionContext);\n  });\n  if (relevantHandlers.length === 0) {\n    return {\n      handler: undefined,\n      response: undefined\n    };\n  }\n  const result = yield relevantHandlers.reduce((executionResult, handler) => __awaiter(void 0, void 0, void 0, function* () {\n    const previousResults = yield executionResult;\n    if (!!(previousResults === null || previousResults === void 0 ? void 0 : previousResults.response)) {\n      return executionResult;\n    }\n    const result = yield handler.run(request, resolutionContext);\n    if (result === null || result.handler.shouldSkip) {\n      return null;\n    }\n    if (!result.response) {\n      return {\n        request: result.request,\n        handler: result.handler,\n        response: undefined,\n        parsedResult: result.parsedResult\n      };\n    }\n    if (result.response.once) {\n      handler.markAsSkipped(true);\n    }\n    return result;\n  }), Promise.resolve(null));\n  // Although reducing a list of relevant request handlers, it's possible\n  // that in the end there will be no handler associted with the request\n  // (i.e. if relevant handlers are fall-through).\n  if (!result) {\n    return {\n      handler: undefined,\n      response: undefined\n    };\n  }\n  return {\n    handler: result.handler,\n    publicRequest: result.request,\n    parsedRequest: result.parsedResult,\n    response: result.response\n  };\n});\nvar jsLevenshtein = function () {\n  function _min(d0, d1, d2, bx, ay) {\n    return d0 < d1 || d2 < d1 ? d0 > d2 ? d2 + 1 : d0 + 1 : bx === ay ? d1 : d1 + 1;\n  }\n  return function (a, b) {\n    if (a === b) {\n      return 0;\n    }\n    if (a.length > b.length) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n    }\n    var la = a.length;\n    var lb = b.length;\n    while (la > 0 && a.charCodeAt(la - 1) === b.charCodeAt(lb - 1)) {\n      la--;\n      lb--;\n    }\n    var offset = 0;\n    while (offset < la && a.charCodeAt(offset) === b.charCodeAt(offset)) {\n      offset++;\n    }\n    la -= offset;\n    lb -= offset;\n    if (la === 0 || lb < 3) {\n      return lb;\n    }\n    var x = 0;\n    var y;\n    var d0;\n    var d1;\n    var d2;\n    var d3;\n    var dd;\n    var dy;\n    var ay;\n    var bx0;\n    var bx1;\n    var bx2;\n    var bx3;\n    var vector = [];\n    for (y = 0; y < la; y++) {\n      vector.push(y + 1);\n      vector.push(a.charCodeAt(offset + y));\n    }\n    var len = vector.length - 1;\n    for (; x < lb - 3;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      bx1 = b.charCodeAt(offset + (d1 = x + 1));\n      bx2 = b.charCodeAt(offset + (d2 = x + 2));\n      bx3 = b.charCodeAt(offset + (d3 = x + 3));\n      dd = x += 4;\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        ay = vector[y + 1];\n        d0 = _min(dy, d0, d1, bx0, ay);\n        d1 = _min(d0, d1, d2, bx1, ay);\n        d2 = _min(d1, d2, d3, bx2, ay);\n        dd = _min(d2, d3, dd, bx3, ay);\n        vector[y] = dd;\n        d3 = d2;\n        d2 = d1;\n        d1 = d0;\n        d0 = dy;\n      }\n    }\n    for (; x < lb;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      dd = ++x;\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        vector[y] = dd = _min(dy, d0, dd, bx0, vector[y + 1]);\n        d0 = dy;\n      }\n    }\n    return dd;\n  };\n}();\nconst MAX_MATCH_SCORE = 3;\nconst MAX_SUGGESTION_COUNT = 4;\nconst TYPE_MATCH_DELTA = 0.5;\nfunction groupHandlersByType(handlers) {\n  return handlers.reduce((groups, handler) => {\n    if (handler instanceof RestHandler) {\n      groups.rest.push(handler);\n    }\n    if (handler instanceof GraphQLHandler) {\n      groups.graphql.push(handler);\n    }\n    return groups;\n  }, {\n    rest: [],\n    graphql: []\n  });\n}\nfunction getRestHandlerScore() {\n  return (request, handler) => {\n    const {\n      path,\n      method\n    } = handler.info;\n    if (path instanceof RegExp || method instanceof RegExp) {\n      return Infinity;\n    }\n    const hasSameMethod = isStringEqual(request.method, method);\n    // Always treat a handler with the same method as a more similar one.\n    const methodScoreDelta = hasSameMethod ? TYPE_MATCH_DELTA : 0;\n    const requestPublicUrl = getPublicUrlFromRequest(request);\n    const score = jsLevenshtein(requestPublicUrl, path);\n    return score - methodScoreDelta;\n  };\n}\nfunction getGraphQLHandlerScore(parsedQuery) {\n  return (_, handler) => {\n    if (typeof parsedQuery.operationName === 'undefined') {\n      return Infinity;\n    }\n    const {\n      operationType,\n      operationName\n    } = handler.info;\n    if (typeof operationName !== 'string') {\n      return Infinity;\n    }\n    const hasSameOperationType = parsedQuery.operationType === operationType;\n    // Always treat a handler with the same operation type as a more similar one.\n    const operationTypeScoreDelta = hasSameOperationType ? TYPE_MATCH_DELTA : 0;\n    const score = jsLevenshtein(parsedQuery.operationName, operationName);\n    return score - operationTypeScoreDelta;\n  };\n}\nfunction getSuggestedHandler(request, handlers, getScore) {\n  const suggestedHandlers = handlers.reduce((suggestions, handler) => {\n    const score = getScore(request, handler);\n    return suggestions.concat([[score, handler]]);\n  }, []).sort(([leftScore], [rightScore]) => leftScore - rightScore).filter(([score]) => score <= MAX_MATCH_SCORE).slice(0, MAX_SUGGESTION_COUNT).map(([, handler]) => handler);\n  return suggestedHandlers;\n}\nfunction getSuggestedHandlersMessage(handlers) {\n  if (handlers.length > 1) {\n    return `\\\nDid you mean to request one of the following resources instead?\n\n${handlers.map(handler => `  • ${handler.info.header}`).join('\\n')}`;\n  }\n  return `Did you mean to request \"${handlers[0].info.header}\" instead?`;\n}\nfunction onUnhandledRequest(request, handlers, strategy = 'warn') {\n  if (typeof strategy === 'function') {\n    strategy(request);\n    return;\n  }\n  /**\r\n   * @note Ignore exceptions during GraphQL request parsing because at this point\r\n   * we cannot assume the unhandled request is a valid GraphQL request.\r\n   * If the GraphQL parsing fails, just don't treat it as a GraphQL request.\r\n   */\n  const parsedGraphQLQuery = tryCatch(() => parseGraphQLRequest(request));\n  const handlerGroups = groupHandlersByType(handlers);\n  const relevantHandlers = parsedGraphQLQuery ? handlerGroups.graphql : handlerGroups.rest;\n  const suggestedHandlers = getSuggestedHandler(request, relevantHandlers, parsedGraphQLQuery ? getGraphQLHandlerScore(parsedGraphQLQuery) : getRestHandlerScore());\n  const handlerSuggestion = suggestedHandlers.length > 0 ? getSuggestedHandlersMessage(suggestedHandlers) : '';\n  const publicUrl = getPublicUrlFromRequest(request);\n  const requestHeader = parsedGraphQLQuery ? `${parsedGraphQLQuery.operationType} ${parsedGraphQLQuery.operationName} (${request.method} ${publicUrl})` : `${request.method} ${publicUrl}`;\n  const messageTemplate = [`captured a request without a matching request handler:`, `  \\u2022 ${requestHeader}`, handlerSuggestion, `\\\nIf you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/getting-started/mocks\\\n`].filter(Boolean);\n  const message = messageTemplate.join('\\n\\n');\n  switch (strategy) {\n    case 'error':\n      {\n        // Print a developer-friendly error.\n        devUtils.error('Error: %s', message);\n        // Throw an exception to halt request processing and not perform the original request.\n        throw new Error(devUtils.formatMessage('Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option.'));\n      }\n    case 'warn':\n      {\n        devUtils.warn('Warning: %s', message);\n        break;\n      }\n    case 'bypass':\n      break;\n    default:\n      throw new Error(devUtils.formatMessage('Failed to react to an unhandled request: unknown strategy \"%s\". Please provide one of the supported strategies (\"bypass\", \"warn\", \"error\") or a custom callback function as the value of the \"onUnhandledRequest\" option.', strategy));\n  }\n}\nfunction readResponseCookies(request, response) {\n  store.add(Object.assign(Object.assign({}, request), {\n    url: request.url.toString()\n  }), response);\n  store.persist();\n}\nfunction handleRequest(request, handlers, options, emitter, handleRequestOptions) {\n  var _a, _b, _c;\n  return __awaiter(this, void 0, void 0, function* () {\n    emitter.emit('request:start', request);\n    // Perform bypassed requests (i.e. issued via \"ctx.fetch\") as-is.\n    if (request.headers.get('x-msw-bypass')) {\n      emitter.emit('request:end', request);\n      (_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, request);\n      return;\n    }\n    // Resolve a mocked response from the list of request handlers.\n    const lookupResult = yield getResponse(request, handlers, handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.resolutionContext);\n    const {\n      handler,\n      response\n    } = lookupResult;\n    // When there's no handler for the request, consider it unhandled.\n    // Allow the developer to react to such cases.\n    if (!handler) {\n      onUnhandledRequest(request, handlers, options.onUnhandledRequest);\n      emitter.emit('request:unhandled', request);\n      emitter.emit('request:end', request);\n      (_b = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _b === void 0 ? void 0 : _b.call(handleRequestOptions, request);\n      return;\n    }\n    // When the handled request returned no mocked response, warn the developer,\n    // as it may be an oversight on their part. Perform the request as-is.\n    if (!response) {\n      devUtils.warn(`\\\nExpected response resolver to return a mocked response Object, but got %s. The original response is going to be used instead.\\\n\\n\n  \\u2022 %s\n    %s\\\n`, response, handler.info.header, handler.info.callFrame);\n      emitter.emit('request:end', request);\n      (_c = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _c === void 0 ? void 0 : _c.call(handleRequestOptions, request);\n      return;\n    }\n    // Store all the received response cookies in the virtual cookie store.\n    readResponseCookies(request, response);\n    emitter.emit('request:match', request);\n    return new Promise(resolve => {\n      var _a, _b, _c;\n      const requiredLookupResult = lookupResult;\n      const transformedResponse = ((_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.transformResponse) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, response)) || response;\n      (_b = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onMockedResponse) === null || _b === void 0 ? void 0 : _b.call(handleRequestOptions, transformedResponse, requiredLookupResult);\n      setTimeout(() => {\n        var _a;\n        (_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onMockedResponseSent) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, transformedResponse, requiredLookupResult);\n        emitter.emit('request:end', request);\n        resolve(transformedResponse);\n      }, (_c = response.delay) !== null && _c !== void 0 ? _c : 0);\n    });\n  });\n}\nconst createRequestListener = (context, options) => {\n  return (event, message) => __awaiter(void 0, void 0, void 0, function* () {\n    const channel = createBroadcastChannel(event);\n    try {\n      const request = parseWorkerRequest(message.payload);\n      yield handleRequest(request, context.requestHandlers, options, context.emitter, {\n        transformResponse(response) {\n          return Object.assign(Object.assign({}, response), {\n            headers: response.headers.all()\n          });\n        },\n        onBypassResponse() {\n          return channel.send({\n            type: 'MOCK_NOT_FOUND'\n          });\n        },\n        onMockedResponse(response) {\n          channel.send({\n            type: 'MOCK_SUCCESS',\n            payload: response\n          });\n        },\n        onMockedResponseSent(response, {\n          handler,\n          publicRequest,\n          parsedRequest\n        }) {\n          if (!options.quiet) {\n            handler.log(publicRequest, response, handler, parsedRequest);\n          }\n        }\n      });\n    } catch (error) {\n      if (error instanceof NetworkError) {\n        // Treat emulated network error differently,\n        // as it is an intended exception in a request handler.\n        return channel.send({\n          type: 'NETWORK_ERROR',\n          payload: {\n            name: error.name,\n            message: error.message\n          }\n        });\n      }\n      // Treat all the other exceptions in a request handler\n      // as unintended, alerting that there is a problem needs fixing.\n      channel.send({\n        type: 'INTERNAL_ERROR',\n        payload: {\n          status: 500,\n          body: JSON.stringify({\n            errorType: error.constructor.name,\n            message: error.message,\n            location: error.stack\n          })\n        }\n      });\n    }\n  });\n};\nfunction requestIntegrityCheck(context, serviceWorker) {\n  return __awaiter(this, void 0, void 0, function* () {\n    // Signal Service Worker to report back its integrity\n    context.workerChannel.send('INTEGRITY_CHECK_REQUEST');\n    const {\n      payload: actualChecksum\n    } = yield context.events.once('INTEGRITY_CHECK_RESPONSE');\n    // Compare the response from the Service Worker and the\n    // global variable set by Rollup during the build.\n    if (actualChecksum !== \"02f4ad4a2797f85668baf196e553d929\") {\n      throw new Error(`Currently active Service Worker (${actualChecksum}) is behind the latest published one (${\"02f4ad4a2797f85668baf196e553d929\"}).`);\n    }\n    return serviceWorker;\n  });\n}\n\n/**\r\n * Intercepts and defers any requests on the page\r\n * until the Service Worker instance is ready.\r\n * Must only be used in a browser.\r\n */\nfunction deferNetworkRequestsUntil(predicatePromise) {\n  // Defer any `XMLHttpRequest` requests until the Service Worker is ready.\n  const originalXhrSend = window.XMLHttpRequest.prototype.send;\n  window.XMLHttpRequest.prototype.send = function (...args) {\n    // Keep this function synchronous to comply with `XMLHttpRequest.prototype.send`,\n    // because that method is always synchronous.\n    until(() => predicatePromise).then(() => {\n      window.XMLHttpRequest.prototype.send = originalXhrSend;\n      this.send(...args);\n    });\n  };\n  // Defer any `fetch` requests until the Service Worker is ready.\n  const originalFetch = window.fetch;\n  window.fetch = (...args) => __awaiter(this, void 0, void 0, function* () {\n    yield until(() => predicatePromise);\n    window.fetch = originalFetch;\n    return window.fetch(...args);\n  });\n}\nfunction createResponseListener(context) {\n  return (_, message) => {\n    var _a;\n    const {\n      payload: responseJson\n    } = message;\n    /**\r\n     * CORS requests with `mode: \"no-cors\"` result in \"opaque\" responses.\r\n     * That kind of responses cannot be manipulated in JavaScript due\r\n     * to the security considerations.\r\n     * @see https://fetch.spec.whatwg.org/#concept-filtered-response-opaque\r\n     * @see https://github.com/mswjs/msw/issues/529\r\n     */\n    if ((_a = responseJson.type) === null || _a === void 0 ? void 0 : _a.includes('opaque')) {\n      return;\n    }\n    const response = new Response(responseJson.body || null, responseJson);\n    const isMockedResponse = response.headers.get('x-powered-by') === 'msw';\n    if (isMockedResponse) {\n      context.emitter.emit('response:mocked', response, responseJson.requestId);\n    } else {\n      context.emitter.emit('response:bypass', response, responseJson.requestId);\n    }\n  };\n}\nfunction validateWorkerScope(registration, options) {\n  if (!(options === null || options === void 0 ? void 0 : options.quiet) && !location.href.startsWith(registration.scope)) {\n    devUtils.warn(`\\\nCannot intercept requests on this page because it's outside of the worker's scope (\"${registration.scope}\"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level (\"/\") of your application.\n- Set the \"Service-Worker-Allowed\" response header to allow out-of-scope workers.\\\n`);\n  }\n}\nconst createStartHandler = context => {\n  return function start(options, customOptions) {\n    const startWorkerInstance = () => __awaiter(this, void 0, void 0, function* () {\n      // Remove all previously existing event listeners.\n      // This way none of the listeners persists between Fast refresh\n      // of the application's code.\n      context.events.removeAllListeners();\n      // Handle requests signaled by the worker.\n      context.workerChannel.on('REQUEST', createRequestListener(context, options));\n      context.workerChannel.on('RESPONSE', createResponseListener(context));\n      const instance = yield getWorkerInstance(options.serviceWorker.url, options.serviceWorker.options, options.findWorker);\n      const [worker, registration] = instance;\n      if (!worker) {\n        const missingWorkerMessage = (customOptions === null || customOptions === void 0 ? void 0 : customOptions.findWorker) ? devUtils.formatMessage(`Failed to locate the Service Worker registration using a custom \"findWorker\" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at \"%s\".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n`, options.serviceWorker.url) : devUtils.formatMessage(`Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL \"%s\" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom \"serviceWorker.url\" option to point to the actual worker script location, or a custom \"findWorker\" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`, options.serviceWorker.url, location.host);\n        throw new Error(missingWorkerMessage);\n      }\n      context.worker = worker;\n      context.registration = registration;\n      context.events.addListener(window, 'beforeunload', () => {\n        if (worker.state !== 'redundant') {\n          // Notify the Service Worker that this client has closed.\n          // Internally, it's similar to disabling the mocking, only\n          // client close event has a handler that self-terminates\n          // the Service Worker when there are no open clients.\n          context.workerChannel.send('CLIENT_CLOSED');\n        }\n        // Make sure we're always clearing the interval - there are reports that not doing this can\n        // cause memory leaks in headless browser environments.\n        window.clearInterval(context.keepAliveInterval);\n      });\n      // Check if the active Service Worker is the latest published one\n      const [integrityError] = yield until(() => requestIntegrityCheck(context, worker));\n      if (integrityError) {\n        devUtils.error(`\\\nDetected outdated Service Worker: ${integrityError.message}\n\nThe mocking is still enabled, but it's highly recommended that you update your Service Worker by running:\n\n$ npx msw init <PUBLIC_DIR>\n\nThis is necessary to ensure that the Service Worker is in sync with the library to guarantee its stability.\nIf this message still persists after updating, please report an issue: https://github.com/open-draft/msw/issues\\\n      `);\n      }\n      yield enableMocking(context, options).catch(err => {\n        throw new Error(`Failed to enable mocking: ${err === null || err === void 0 ? void 0 : err.message}`);\n      });\n      context.keepAliveInterval = window.setInterval(() => context.workerChannel.send('KEEPALIVE_REQUEST'), 5000);\n      // Warn the user when loading the page that lies outside\n      // of the worker's scope.\n      validateWorkerScope(registration, context.startOptions);\n      return registration;\n    });\n    const workerRegistration = startWorkerInstance();\n    // Defer any network requests until the Service Worker instance is ready.\n    // This prevents a race condition between the Service Worker registration\n    // and application's runtime requests (i.e. requests on mount).\n    if (options.waitUntilReady) {\n      deferNetworkRequestsUntil(workerRegistration);\n    }\n    return workerRegistration;\n  };\n};\nfunction printStopMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  console.log(`%c${devUtils.formatMessage('Mocking disabled.')}`, 'color:orangered;font-weight:bold;');\n}\nconst createStop = context => {\n  return function stop() {\n    var _a;\n    /**\r\n     * Signal the Service Worker to disable mocking for this client.\r\n     * Use this an an explicit way to stop the mocking, while preserving\r\n     * the worker-client relation. Does not affect the worker's lifecycle.\r\n     */\n    context.workerChannel.send('MOCK_DEACTIVATE');\n    window.clearInterval(context.keepAliveInterval);\n    printStopMessage({\n      quiet: (_a = context.startOptions) === null || _a === void 0 ? void 0 : _a.quiet\n    });\n  };\n};\nfunction use(currentHandlers, ...handlers) {\n  currentHandlers.unshift(...handlers);\n}\nfunction restoreHandlers(handlers) {\n  handlers.forEach(handler => {\n    handler.markAsSkipped(false);\n  });\n}\nfunction resetHandlers(initialHandlers, ...nextHandlers) {\n  return nextHandlers.length > 0 ? [...nextHandlers] : [...initialHandlers];\n}\nconst DEFAULT_START_OPTIONS = {\n  serviceWorker: {\n    url: '/mockServiceWorker.js',\n    options: null\n  },\n  quiet: false,\n  waitUntilReady: true,\n  onUnhandledRequest: 'warn',\n  findWorker(scriptURL, mockServiceWorkerUrl) {\n    return scriptURL === mockServiceWorkerUrl;\n  }\n};\n/**\r\n * Returns resolved worker start options, merging the default options\r\n * with the given custom options.\r\n */\nfunction resolveStartOptions(initialOptions) {\n  return mergeRight(DEFAULT_START_OPTIONS, initialOptions || {});\n}\nfunction prepareStartHandler(handler, context) {\n  return initialOptions => {\n    context.startOptions = resolveStartOptions(initialOptions);\n    return handler(context.startOptions, initialOptions || {});\n  };\n}\n\n/**\r\n * Converts a given isomorphic request to a `MockedRequest` instance.\r\n */\nfunction parseIsomorphicRequest(request) {\n  const mockedRequest = {\n    id: request.id,\n    url: request.url,\n    method: request.method,\n    body: parseBody(request.body, request.headers),\n    headers: request.headers,\n    cookies: {},\n    redirect: 'manual',\n    referrer: '',\n    keepalive: false,\n    cache: 'default',\n    mode: 'cors',\n    referrerPolicy: 'no-referrer',\n    integrity: '',\n    destination: 'document',\n    bodyUsed: false,\n    credentials: 'same-origin'\n  };\n  // Set mocked request cookies from the `cookie` header of the original request.\n  // No need to take `credentials` into account, because in Node.js requests are intercepted\n  // _after_ they happen. Request issuer should have already taken care of sending relevant cookies.\n  // Unlike browser, where interception is on the worker level, _before_ the request happens.\n  const requestCookiesString = request.headers.get('cookie');\n  // Attach all the cookies from the virtual cookie store.\n  setRequestCookies(mockedRequest);\n  const requestCookies = requestCookiesString ? parse_1(requestCookiesString) : {};\n  // Merge both direct request cookies and the cookies inherited\n  // from other same-origin requests in the cookie store.\n  mockedRequest.cookies = Object.assign(Object.assign({}, mockedRequest.cookies), requestCookies);\n  return mockedRequest;\n}\nfunction createFallbackRequestListener(context, options) {\n  const interceptor = createInterceptor({\n    modules: [interceptFetch, interceptXMLHttpRequest],\n    resolver(request) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const mockedRequest = parseIsomorphicRequest(request);\n        return handleRequest(mockedRequest, context.requestHandlers, options, context.emitter, {\n          transformResponse(response) {\n            return {\n              status: response.status,\n              statusText: response.statusText,\n              headers: response.headers.all(),\n              body: response.body\n            };\n          },\n          onMockedResponseSent(response, {\n            handler,\n            publicRequest,\n            parsedRequest\n          }) {\n            if (!options.quiet) {\n              handler.log(publicRequest, response, handler, parsedRequest);\n            }\n          }\n        });\n      });\n    }\n  });\n  interceptor.apply();\n  return interceptor;\n}\nfunction createFallbackStart(context) {\n  return function start(options) {\n    return __awaiter(this, void 0, void 0, function* () {\n      context.fallbackInterceptor = createFallbackRequestListener(context, options);\n      printStartMessage({\n        message: 'Mocking enabled (fallback mode).',\n        quiet: options.quiet\n      });\n      return undefined;\n    });\n  };\n}\nfunction createFallbackStop(context) {\n  return function stop() {\n    var _a, _b;\n    (_a = context.fallbackInterceptor) === null || _a === void 0 ? void 0 : _a.restore();\n    printStopMessage({\n      quiet: (_b = context.startOptions) === null || _b === void 0 ? void 0 : _b.quiet\n    });\n  };\n}\n\n/**\r\n * Pipes all emitted events from one emitter to another.\r\n */\nfunction pipeEvents(source, destination) {\n  const rawEmit = source.emit;\n  // @ts-ignore\n  if (rawEmit._isPiped) {\n    return;\n  }\n  source.emit = function (event, ...data) {\n    destination.emit(event, ...data);\n    return rawEmit.call(this, event, ...data);\n  };\n  // @ts-ignore\n  source.emit._isPiped = true;\n}\n\n// Declare the list of event handlers on the module's scope\n// so it persists between Fash refreshes of the application's code.\nlet listeners = [];\n/**\r\n * Creates a new mock Service Worker registration\r\n * with the given request handlers.\r\n * @param {RequestHandler[]} requestHandlers List of request handlers\r\n * @see {@link https://mswjs.io/docs/api/setup-worker `setupWorker`}\r\n */\nfunction setupWorker(...requestHandlers) {\n  requestHandlers.forEach(handler => {\n    if (Array.isArray(handler)) throw new Error(devUtils.formatMessage('Failed to call \"setupWorker\" given an Array of request handlers (setupWorker([a, b])), expected to receive each handler individually: setupWorker(a, b).'));\n  });\n  // Error when attempting to run this function in a Node.js environment.\n  if (lib$3.exports.isNodeProcess()) {\n    throw new Error(devUtils.formatMessage('Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.'));\n  }\n  const emitter = new lib$1.StrictEventEmitter();\n  const publicEmitter = new lib$1.StrictEventEmitter();\n  pipeEvents(emitter, publicEmitter);\n  const context = {\n    startOptions: undefined,\n    worker: null,\n    registration: null,\n    requestHandlers: [...requestHandlers],\n    emitter,\n    workerChannel: {\n      on(eventType, callback) {\n        context.events.addListener(navigator.serviceWorker, 'message', event => {\n          // Avoid messages broadcasted from unrelated workers.\n          if (event.source !== context.worker) {\n            return;\n          }\n          const message = jsonParse(event.data);\n          if (!message) {\n            return;\n          }\n          if (message.type === eventType) {\n            callback(event, message);\n          }\n        });\n      },\n      send(type) {\n        var _a;\n        (_a = context.worker) === null || _a === void 0 ? void 0 : _a.postMessage(type);\n      }\n    },\n    events: {\n      addListener(target, eventType, callback) {\n        target.addEventListener(eventType, callback);\n        listeners.push({\n          eventType,\n          target,\n          callback\n        });\n        return () => {\n          target.removeEventListener(eventType, callback);\n        };\n      },\n      removeAllListeners() {\n        for (const {\n          target,\n          eventType,\n          callback\n        } of listeners) {\n          target.removeEventListener(eventType, callback);\n        }\n        listeners = [];\n      },\n      once(eventType) {\n        const bindings = [];\n        return new Promise((resolve, reject) => {\n          const handleIncomingMessage = event => {\n            try {\n              const message = JSON.parse(event.data);\n              if (message.type === eventType) {\n                resolve(message);\n              }\n            } catch (error) {\n              reject(error);\n            }\n          };\n          bindings.push(context.events.addListener(navigator.serviceWorker, 'message', handleIncomingMessage), context.events.addListener(navigator.serviceWorker, 'messageerror', reject));\n        }).finally(() => {\n          bindings.forEach(unbind => unbind());\n        });\n      }\n    },\n    useFallbackMode: !('serviceWorker' in navigator) || location.protocol === 'file:'\n  };\n  const startHandler = context.useFallbackMode ? createFallbackStart(context) : createStartHandler(context);\n  const stopHandler = context.useFallbackMode ? createFallbackStop(context) : createStop(context);\n  return {\n    start: prepareStartHandler(startHandler, context),\n    stop() {\n      context.events.removeAllListeners();\n      context.emitter.removeAllListeners();\n      publicEmitter.removeAllListeners();\n      stopHandler();\n    },\n    use(...handlers) {\n      use(context.requestHandlers, ...handlers);\n    },\n    restoreHandlers() {\n      restoreHandlers(context.requestHandlers);\n    },\n    resetHandlers(...nextHandlers) {\n      context.requestHandlers = resetHandlers(requestHandlers, ...nextHandlers);\n    },\n    printHandlers() {\n      context.requestHandlers.forEach(handler => {\n        const {\n          header,\n          callFrame\n        } = handler.info;\n        const pragma = handler.info.hasOwnProperty('operationType') ? '[graphql]' : '[rest]';\n        console.groupCollapsed(`${pragma} ${header}`);\n        if (callFrame) {\n          console.log(`Declaration: ${callFrame}`);\n        }\n        console.log('Handler:', handler);\n        if (handler instanceof RestHandler) {\n          console.log('Match:', `https://mswjs.io/repl?path=${handler.info.path}`);\n        }\n        console.groupEnd();\n      });\n    },\n    events: {\n      on(...args) {\n        return publicEmitter.on(...args);\n      },\n      removeListener(...args) {\n        return publicEmitter.removeListener(...args);\n      },\n      removeAllListeners(...args) {\n        return publicEmitter.removeAllListeners(...args);\n      }\n    }\n  };\n}\nexport { handleRequest, parseIsomorphicRequest, setupWorker };","map":{"version":3,"names":["i","context","c","commonjsGlobal","p","parse_1","l","lib$2","a","lib$3","j","jsonParse","_","__awaiter","d","devUtils","parseBody","g","getPublicUrlFromRequest","N","NetworkError","R","RequestHandler","f","cleanUrl","e","compose","createResponseComposition","b","defaultContext","defaultResponse","m","matchRequestUrl","r","response","store","isStringEqual","RestHandler","RESTMethods","rest","restContext","t","tryCatch","parseGraphQLRequest","G","GraphQLHandler","graphql","graphqlContext","mergeRight","createInterceptor","interceptFetch","interceptXMLHttpRequest","lib$1","StrictEventEmitter$1","events","exports","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ReflectOwnKeys","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","console","warn","NumberIsNaN","Number","isNaN","value","EventEmitter","init","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","emit","type","arguments","length","push","doError","error","er","Error","err","message","handler","len","listeners","arrayClone","_addListener","prepend","existing","newListener","unshift","warned","w","String","name","emitter","count","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","keys","key","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","Array","index","pop","ret","Promise","resolve","reject","errorListener","resolver","slice","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","flags","addEventListener","wrapListener","removeEventListener","__extends","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__","constructor","__spreadArrays","s","il","k","jl","__esModule","StrictEventEmitter","events_1","_super","event","toString","data","_i","__createBinding","o","k2","StrictEventEmitter_1","lib","until$1","until","promise","catch","until_1","getWorkerByRegistration","registration","absoluteWorkerUrl","findWorker","allStates","active","installing","waiting","existingStates","filter","Boolean","mockWorker","find","worker","scriptURL","getAbsoluteWorkerUrl","relativeUrl","URL","location","origin","href","getWorkerInstance","url","options","mockRegistrations","navigator","serviceWorker","getRegistrations","then","registrations","controller","reload","existingRegistration","update","instance","register","isWorkerMissing","includes","scopeUrl","scope","formatMessage","printStartMessage","quiet","groupCollapsed","log","groupEnd","enableMocking","workerChannel","send","createBroadcastChannel","port","ports","postMessage","getAllCookies","document","cookie","getRequestCookies","request","credentials","setRequestCookies","_a","hydrate","cookies","assign","from","entries","reduce","headers","map","join","pruneGetRequestBody","method","body","parseWorkerRequest","rawRequest","id","cache","referrer","referrerPolicy","redirect","mode","params","integrity","keepalive","destination","bodyUsed","Headers","getResponse","handlers","resolutionContext","relevantHandlers","test","result","executionResult","previousResults","run","shouldSkip","parsedResult","markAsSkipped","publicRequest","parsedRequest","jsLevenshtein","_min","d0","d1","d2","bx","ay","tmp","la","lb","charCodeAt","offset","x","y","d3","dd","dy","bx0","bx1","bx2","bx3","vector","MAX_MATCH_SCORE","MAX_SUGGESTION_COUNT","TYPE_MATCH_DELTA","groupHandlersByType","groups","getRestHandlerScore","path","info","RegExp","Infinity","hasSameMethod","methodScoreDelta","requestPublicUrl","score","getGraphQLHandlerScore","parsedQuery","operationName","operationType","hasSameOperationType","operationTypeScoreDelta","getSuggestedHandler","getScore","suggestedHandlers","suggestions","sort","leftScore","rightScore","getSuggestedHandlersMessage","header","onUnhandledRequest","strategy","parsedGraphQLQuery","handlerGroups","handlerSuggestion","publicUrl","requestHeader","messageTemplate","readResponseCookies","add","persist","handleRequest","handleRequestOptions","_b","_c","onBypassResponse","lookupResult","callFrame","requiredLookupResult","transformedResponse","transformResponse","onMockedResponse","setTimeout","onMockedResponseSent","delay","createRequestListener","channel","payload","requestHandlers","all","status","JSON","stringify","errorType","stack","requestIntegrityCheck","actualChecksum","deferNetworkRequestsUntil","predicatePromise","originalXhrSend","window","XMLHttpRequest","originalFetch","fetch","createResponseListener","responseJson","Response","isMockedResponse","requestId","validateWorkerScope","startsWith","createStartHandler","start","customOptions","startWorkerInstance","missingWorkerMessage","host","clearInterval","keepAliveInterval","integrityError","setInterval","startOptions","workerRegistration","waitUntilReady","printStopMessage","createStop","stop","use","currentHandlers","restoreHandlers","forEach","resetHandlers","initialHandlers","nextHandlers","DEFAULT_START_OPTIONS","mockServiceWorkerUrl","resolveStartOptions","initialOptions","prepareStartHandler","parseIsomorphicRequest","mockedRequest","requestCookiesString","requestCookies","createFallbackRequestListener","interceptor","modules","statusText","createFallbackStart","fallbackInterceptor","createFallbackStop","restore","pipeEvents","source","rawEmit","_isPiped","setupWorker","isArray","isNodeProcess","publicEmitter","eventType","callback","bindings","handleIncomingMessage","parse","finally","unbind","useFallbackMode","protocol","startHandler","stopHandler","printHandlers","pragma"],"sources":["/Users/zhaoliang923/Desktop/前端小组/react18-demo/node_modules/msw/lib/esm/index.js"],"sourcesContent":["export { i as context } from './index-deps.js';\nimport { c as commonjsGlobal, p as parse_1, l as lib$2, a as lib$3, j as jsonParse } from './fetch-deps.js';\nimport { _ as __awaiter, d as devUtils, p as parseBody, g as getPublicUrlFromRequest, N as NetworkError } from './RequestHandler-deps.js';\nexport { R as RequestHandler, f as cleanUrl, e as compose, c as createResponseComposition, b as defaultContext, a as defaultResponse, m as matchRequestUrl, r as response } from './RequestHandler-deps.js';\nimport { store } from '@mswjs/cookies';\nimport { i as isStringEqual, R as RestHandler } from './rest-deps.js';\nexport { a as RESTMethods, R as RestHandler, r as rest, b as restContext } from './rest-deps.js';\nimport { t as tryCatch, p as parseGraphQLRequest, G as GraphQLHandler } from './graphql-deps.js';\nexport { G as GraphQLHandler, g as graphql, a as graphqlContext } from './graphql-deps.js';\nimport { m as mergeRight } from './errors-deps.js';\nimport { createInterceptor } from '@mswjs/interceptors';\nimport { interceptFetch } from '@mswjs/interceptors/lib/interceptors/fetch';\nimport { interceptXMLHttpRequest } from '@mswjs/interceptors/lib/interceptors/XMLHttpRequest';\nimport './xml-deps.js';\nimport '@mswjs/interceptors/lib/utils/getCleanUrl';\n\nvar lib$1 = {};\n\nvar StrictEventEmitter$1 = {};\n\nvar events = {exports: {}};\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  };\n\nvar ReflectOwnKeys;\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nevents.exports = EventEmitter;\nevents.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    }\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\nvar __extends = (commonjsGlobal && commonjsGlobal.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (commonjsGlobal && commonjsGlobal.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nStrictEventEmitter$1.__esModule = true;\nStrictEventEmitter$1.StrictEventEmitter = void 0;\nvar events_1 = events.exports;\nvar StrictEventEmitter = /** @class */ (function (_super) {\n    __extends(StrictEventEmitter, _super);\n    function StrictEventEmitter() {\n        return _super.call(this) || this;\n    }\n    StrictEventEmitter.prototype.on = function (event, listener) {\n        return _super.prototype.on.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.once = function (event, listener) {\n        return _super.prototype.on.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.off = function (event, listener) {\n        return _super.prototype.off.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.emit = function (event) {\n        var data = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            data[_i - 1] = arguments[_i];\n        }\n        return _super.prototype.emit.apply(this, __spreadArrays([event.toString()], data));\n    };\n    StrictEventEmitter.prototype.addListener = function (event, listener) {\n        return _super.prototype.addListener.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.removeListener = function (event, listener) {\n        return _super.prototype.removeListener.call(this, event.toString(), listener);\n    };\n    return StrictEventEmitter;\n}(events_1.EventEmitter));\nStrictEventEmitter$1.StrictEventEmitter = StrictEventEmitter;\n\n(function (exports) {\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nexports.__esModule = true;\nexports.StrictEventEmitter = void 0;\nvar StrictEventEmitter_1 = StrictEventEmitter$1;\n__createBinding(exports, StrictEventEmitter_1, \"StrictEventEmitter\");\n}(lib$1));\n\nvar lib = {};\n\nvar until$1 = {};\n\nObject.defineProperty(until$1, \"__esModule\", { value: true });\n/**\n * Gracefully handles a given Promise factory.\n * @example\n * cosnt [error, data] = await until(() => asyncAction())\n */\nuntil$1.until = async (promise) => {\n    try {\n        const data = await promise().catch((error) => {\n            throw error;\n        });\n        return [null, data];\n    }\n    catch (error) {\n        return [error, null];\n    }\n};\n\nObject.defineProperty(lib, \"__esModule\", { value: true });\nvar until_1 = until$1;\nvar until = lib.until = until_1.until;\n\n/**\r\n * Attempts to resolve a Service Worker instance from a given registration,\r\n * regardless of its state (active, installing, waiting).\r\n */\r\nconst getWorkerByRegistration = (registration, absoluteWorkerUrl, findWorker) => {\r\n    const allStates = [\r\n        registration.active,\r\n        registration.installing,\r\n        registration.waiting,\r\n    ];\r\n    const existingStates = allStates.filter(Boolean);\r\n    const mockWorker = existingStates.find((worker) => {\r\n        return findWorker(worker.scriptURL, absoluteWorkerUrl);\r\n    });\r\n    return mockWorker || null;\r\n};\n\n/**\r\n * Returns an absolute Service Worker URL based on the given\r\n * relative URL (known during the registration).\r\n */\r\nfunction getAbsoluteWorkerUrl(relativeUrl) {\r\n    return new URL(relativeUrl, location.origin).href;\r\n}\n\n/**\r\n * Returns an active Service Worker instance.\r\n * When not found, registers a new Service Worker.\r\n */\r\nconst getWorkerInstance = (url, options = {}, findWorker) => __awaiter(void 0, void 0, void 0, function* () {\r\n    // Resolve the absolute Service Worker URL.\r\n    const absoluteWorkerUrl = getAbsoluteWorkerUrl(url);\r\n    const mockRegistrations = yield navigator.serviceWorker\r\n        .getRegistrations()\r\n        .then((registrations) => registrations.filter((registration) => getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker)));\r\n    if (!navigator.serviceWorker.controller && mockRegistrations.length > 0) {\r\n        // Reload the page when it has associated workers, but no active controller.\r\n        // The absence of a controller can mean either:\r\n        // - page has no Service Worker associated with it\r\n        // - page has been hard-reloaded and its workers won't be used until the next reload.\r\n        // Since we've checked that there are registrations associated with this page,\r\n        // at this point we are sure it's hard reload that falls into this clause.\r\n        location.reload();\r\n    }\r\n    const [existingRegistration] = mockRegistrations;\r\n    if (existingRegistration) {\r\n        // When the Service Worker is registered, update it and return the reference.\r\n        return existingRegistration.update().then(() => {\r\n            return [\r\n                getWorkerByRegistration(existingRegistration, absoluteWorkerUrl, findWorker),\r\n                existingRegistration,\r\n            ];\r\n        });\r\n    }\r\n    // When the Service Worker wasn't found, register it anew and return the reference.\r\n    const [error, instance] = yield until(() => __awaiter(void 0, void 0, void 0, function* () {\r\n        const registration = yield navigator.serviceWorker.register(url, options);\r\n        return [\r\n            // Compare existing worker registration by its worker URL,\r\n            // to prevent irrelevant workers to resolve here (such as Codesandbox worker).\r\n            getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker),\r\n            registration,\r\n        ];\r\n    }));\r\n    // Handle Service Worker registration errors.\r\n    if (error) {\r\n        const isWorkerMissing = error.message.includes('(404)');\r\n        // Produce a custom error message when given a non-existing Service Worker url.\r\n        // Suggest developers to check their setup.\r\n        if (isWorkerMissing) {\r\n            const scopeUrl = new URL((options === null || options === void 0 ? void 0 : options.scope) || '/', location.href);\r\n            throw new Error(devUtils.formatMessage(`\\\nFailed to register a Service Worker for scope ('${scopeUrl.href}') with script ('${absoluteWorkerUrl}'): Service Worker script does not exist at the given path.\n\nDid you forget to run \"npx msw init <PUBLIC_DIR>\"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`));\r\n        }\r\n        // Fallback error message for any other registration errors.\r\n        throw new Error(devUtils.formatMessage('Failed to register the Service Worker:\\n\\n%s', error.message));\r\n    }\r\n    return instance;\r\n});\n\n/**\r\n * Prints a worker activation message in the browser's console.\r\n */\r\nfunction printStartMessage(args = {}) {\r\n    if (args.quiet) {\r\n        return;\r\n    }\r\n    const message = args.message || 'Mocking enabled.';\r\n    console.groupCollapsed(`%c${devUtils.formatMessage(message)}`, 'color:orangered;font-weight:bold;');\r\n    console.log('%cDocumentation: %chttps://mswjs.io/docs', 'font-weight:bold', 'font-weight:normal');\r\n    console.log('Found an issue? https://github.com/mswjs/msw/issues');\r\n    console.groupEnd();\r\n}\n\n/**\r\n * Signals the worker to enable the interception of requests.\r\n */\r\nfunction enableMocking(context, options) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        context.workerChannel.send('MOCK_ACTIVATE');\r\n        return context.events.once('MOCKING_ENABLED').then(() => {\r\n            printStartMessage({ quiet: options.quiet });\r\n        });\r\n    });\r\n}\n\n/**\r\n * Creates a communication channel between the client\r\n * and the Service Worker associated with the given event.\r\n */\r\nconst createBroadcastChannel = (event) => {\r\n    const port = event.ports[0];\r\n    return {\r\n        /**\r\n         * Sends a text message to the connected Service Worker.\r\n         */\r\n        send(message) {\r\n            if (port) {\r\n                port.postMessage(message);\r\n            }\r\n        },\r\n    };\r\n};\n\nfunction getAllCookies() {\r\n    return parse_1(document.cookie);\r\n}\r\n/**\r\n * Returns relevant document cookies based on the request `credentials` option.\r\n */\r\nfunction getRequestCookies(request) {\r\n    /**\r\n     * @note No cookies persist on the document in Node.js: no document.\r\n     */\r\n    if (typeof document === 'undefined' || typeof location === 'undefined') {\r\n        return {};\r\n    }\r\n    switch (request.credentials) {\r\n        case 'same-origin': {\r\n            // Return document cookies only when requested a resource\r\n            // from the same origin as the current document.\r\n            return location.origin === request.url.origin ? getAllCookies() : {};\r\n        }\r\n        case 'include': {\r\n            // Return all document cookies.\r\n            return getAllCookies();\r\n        }\r\n        default: {\r\n            return {};\r\n        }\r\n    }\r\n}\n\nfunction setRequestCookies(request) {\r\n    var _a;\r\n    store.hydrate();\r\n    request.cookies = Object.assign(Object.assign({}, getRequestCookies(request)), Array.from((_a = store.get(Object.assign(Object.assign({}, request), { url: request.url.toString() }))) === null || _a === void 0 ? void 0 : _a.entries()).reduce((cookies, [name, { value }]) => Object.assign(cookies, { [name]: value }), {}));\r\n    request.headers.set('cookie', Object.entries(request.cookies)\r\n        .map(([name, value]) => `${name}=${value}`)\r\n        .join('; '));\r\n}\n\n/**\r\n * Ensures that an empty GET request body is always represented as `undefined`.\r\n */\r\nfunction pruneGetRequestBody(request) {\r\n    if (request.method &&\r\n        isStringEqual(request.method, 'GET') &&\r\n        request.body === '') {\r\n        return undefined;\r\n    }\r\n    return request.body;\r\n}\n\n/**\r\n * Converts a given request received from the Service Worker\r\n * into a `MockedRequest` instance.\r\n */\r\nfunction parseWorkerRequest(rawRequest) {\r\n    const request = {\r\n        id: rawRequest.id,\r\n        cache: rawRequest.cache,\r\n        credentials: rawRequest.credentials,\r\n        method: rawRequest.method,\r\n        url: new URL(rawRequest.url),\r\n        referrer: rawRequest.referrer,\r\n        referrerPolicy: rawRequest.referrerPolicy,\r\n        redirect: rawRequest.redirect,\r\n        mode: rawRequest.mode,\r\n        params: {},\r\n        cookies: {},\r\n        integrity: rawRequest.integrity,\r\n        keepalive: rawRequest.keepalive,\r\n        destination: rawRequest.destination,\r\n        body: pruneGetRequestBody(rawRequest),\r\n        bodyUsed: rawRequest.bodyUsed,\r\n        headers: new lib$2.Headers(rawRequest.headers),\r\n    };\r\n    // Set document cookies on the request.\r\n    setRequestCookies(request);\r\n    // Parse the request's body based on the \"Content-Type\" header.\r\n    request.body = parseBody(request.body, request.headers);\r\n    return request;\r\n}\n\n/**\r\n * Returns a mocked response for a given request using following request handlers.\r\n */\r\nconst getResponse = (request, handlers, resolutionContext) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const relevantHandlers = handlers.filter((handler) => {\r\n        return handler.test(request, resolutionContext);\r\n    });\r\n    if (relevantHandlers.length === 0) {\r\n        return {\r\n            handler: undefined,\r\n            response: undefined,\r\n        };\r\n    }\r\n    const result = yield relevantHandlers.reduce((executionResult, handler) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const previousResults = yield executionResult;\r\n        if (!!(previousResults === null || previousResults === void 0 ? void 0 : previousResults.response)) {\r\n            return executionResult;\r\n        }\r\n        const result = yield handler.run(request, resolutionContext);\r\n        if (result === null || result.handler.shouldSkip) {\r\n            return null;\r\n        }\r\n        if (!result.response) {\r\n            return {\r\n                request: result.request,\r\n                handler: result.handler,\r\n                response: undefined,\r\n                parsedResult: result.parsedResult,\r\n            };\r\n        }\r\n        if (result.response.once) {\r\n            handler.markAsSkipped(true);\r\n        }\r\n        return result;\r\n    }), Promise.resolve(null));\r\n    // Although reducing a list of relevant request handlers, it's possible\r\n    // that in the end there will be no handler associted with the request\r\n    // (i.e. if relevant handlers are fall-through).\r\n    if (!result) {\r\n        return {\r\n            handler: undefined,\r\n            response: undefined,\r\n        };\r\n    }\r\n    return {\r\n        handler: result.handler,\r\n        publicRequest: result.request,\r\n        parsedRequest: result.parsedResult,\r\n        response: result.response,\r\n    };\r\n});\n\nvar jsLevenshtein = (function()\n{\n  function _min(d0, d1, d2, bx, ay)\n  {\n    return d0 < d1 || d2 < d1\n        ? d0 > d2\n            ? d2 + 1\n            : d0 + 1\n        : bx === ay\n            ? d1\n            : d1 + 1;\n  }\n\n  return function(a, b)\n  {\n    if (a === b) {\n      return 0;\n    }\n\n    if (a.length > b.length) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n    }\n\n    var la = a.length;\n    var lb = b.length;\n\n    while (la > 0 && (a.charCodeAt(la - 1) === b.charCodeAt(lb - 1))) {\n      la--;\n      lb--;\n    }\n\n    var offset = 0;\n\n    while (offset < la && (a.charCodeAt(offset) === b.charCodeAt(offset))) {\n      offset++;\n    }\n\n    la -= offset;\n    lb -= offset;\n\n    if (la === 0 || lb < 3) {\n      return lb;\n    }\n\n    var x = 0;\n    var y;\n    var d0;\n    var d1;\n    var d2;\n    var d3;\n    var dd;\n    var dy;\n    var ay;\n    var bx0;\n    var bx1;\n    var bx2;\n    var bx3;\n\n    var vector = [];\n\n    for (y = 0; y < la; y++) {\n      vector.push(y + 1);\n      vector.push(a.charCodeAt(offset + y));\n    }\n\n    var len = vector.length - 1;\n\n    for (; x < lb - 3;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      bx1 = b.charCodeAt(offset + (d1 = x + 1));\n      bx2 = b.charCodeAt(offset + (d2 = x + 2));\n      bx3 = b.charCodeAt(offset + (d3 = x + 3));\n      dd = (x += 4);\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        ay = vector[y + 1];\n        d0 = _min(dy, d0, d1, bx0, ay);\n        d1 = _min(d0, d1, d2, bx1, ay);\n        d2 = _min(d1, d2, d3, bx2, ay);\n        dd = _min(d2, d3, dd, bx3, ay);\n        vector[y] = dd;\n        d3 = d2;\n        d2 = d1;\n        d1 = d0;\n        d0 = dy;\n      }\n    }\n\n    for (; x < lb;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      dd = ++x;\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        vector[y] = dd = _min(dy, d0, dd, bx0, vector[y + 1]);\n        d0 = dy;\n      }\n    }\n\n    return dd;\n  };\n})();\n\nconst MAX_MATCH_SCORE = 3;\r\nconst MAX_SUGGESTION_COUNT = 4;\r\nconst TYPE_MATCH_DELTA = 0.5;\r\nfunction groupHandlersByType(handlers) {\r\n    return handlers.reduce((groups, handler) => {\r\n        if (handler instanceof RestHandler) {\r\n            groups.rest.push(handler);\r\n        }\r\n        if (handler instanceof GraphQLHandler) {\r\n            groups.graphql.push(handler);\r\n        }\r\n        return groups;\r\n    }, {\r\n        rest: [],\r\n        graphql: [],\r\n    });\r\n}\r\nfunction getRestHandlerScore() {\r\n    return (request, handler) => {\r\n        const { path, method } = handler.info;\r\n        if (path instanceof RegExp || method instanceof RegExp) {\r\n            return Infinity;\r\n        }\r\n        const hasSameMethod = isStringEqual(request.method, method);\r\n        // Always treat a handler with the same method as a more similar one.\r\n        const methodScoreDelta = hasSameMethod ? TYPE_MATCH_DELTA : 0;\r\n        const requestPublicUrl = getPublicUrlFromRequest(request);\r\n        const score = jsLevenshtein(requestPublicUrl, path);\r\n        return score - methodScoreDelta;\r\n    };\r\n}\r\nfunction getGraphQLHandlerScore(parsedQuery) {\r\n    return (_, handler) => {\r\n        if (typeof parsedQuery.operationName === 'undefined') {\r\n            return Infinity;\r\n        }\r\n        const { operationType, operationName } = handler.info;\r\n        if (typeof operationName !== 'string') {\r\n            return Infinity;\r\n        }\r\n        const hasSameOperationType = parsedQuery.operationType === operationType;\r\n        // Always treat a handler with the same operation type as a more similar one.\r\n        const operationTypeScoreDelta = hasSameOperationType ? TYPE_MATCH_DELTA : 0;\r\n        const score = jsLevenshtein(parsedQuery.operationName, operationName);\r\n        return score - operationTypeScoreDelta;\r\n    };\r\n}\r\nfunction getSuggestedHandler(request, handlers, getScore) {\r\n    const suggestedHandlers = handlers\r\n        .reduce((suggestions, handler) => {\r\n        const score = getScore(request, handler);\r\n        return suggestions.concat([[score, handler]]);\r\n    }, [])\r\n        .sort(([leftScore], [rightScore]) => leftScore - rightScore)\r\n        .filter(([score]) => score <= MAX_MATCH_SCORE)\r\n        .slice(0, MAX_SUGGESTION_COUNT)\r\n        .map(([, handler]) => handler);\r\n    return suggestedHandlers;\r\n}\r\nfunction getSuggestedHandlersMessage(handlers) {\r\n    if (handlers.length > 1) {\r\n        return `\\\nDid you mean to request one of the following resources instead?\n\n${handlers.map((handler) => `  • ${handler.info.header}`).join('\\n')}`;\r\n    }\r\n    return `Did you mean to request \"${handlers[0].info.header}\" instead?`;\r\n}\r\nfunction onUnhandledRequest(request, handlers, strategy = 'warn') {\r\n    if (typeof strategy === 'function') {\r\n        strategy(request);\r\n        return;\r\n    }\r\n    /**\r\n     * @note Ignore exceptions during GraphQL request parsing because at this point\r\n     * we cannot assume the unhandled request is a valid GraphQL request.\r\n     * If the GraphQL parsing fails, just don't treat it as a GraphQL request.\r\n     */\r\n    const parsedGraphQLQuery = tryCatch(() => parseGraphQLRequest(request));\r\n    const handlerGroups = groupHandlersByType(handlers);\r\n    const relevantHandlers = parsedGraphQLQuery\r\n        ? handlerGroups.graphql\r\n        : handlerGroups.rest;\r\n    const suggestedHandlers = getSuggestedHandler(request, relevantHandlers, parsedGraphQLQuery\r\n        ? getGraphQLHandlerScore(parsedGraphQLQuery)\r\n        : getRestHandlerScore());\r\n    const handlerSuggestion = suggestedHandlers.length > 0\r\n        ? getSuggestedHandlersMessage(suggestedHandlers)\r\n        : '';\r\n    const publicUrl = getPublicUrlFromRequest(request);\r\n    const requestHeader = parsedGraphQLQuery\r\n        ? `${parsedGraphQLQuery.operationType} ${parsedGraphQLQuery.operationName} (${request.method} ${publicUrl})`\r\n        : `${request.method} ${publicUrl}`;\r\n    const messageTemplate = [\r\n        `captured a request without a matching request handler:`,\r\n        `  \\u2022 ${requestHeader}`,\r\n        handlerSuggestion,\r\n        `\\\nIf you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/getting-started/mocks\\\n`,\r\n    ].filter(Boolean);\r\n    const message = messageTemplate.join('\\n\\n');\r\n    switch (strategy) {\r\n        case 'error': {\r\n            // Print a developer-friendly error.\r\n            devUtils.error('Error: %s', message);\r\n            // Throw an exception to halt request processing and not perform the original request.\r\n            throw new Error(devUtils.formatMessage('Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option.'));\r\n        }\r\n        case 'warn': {\r\n            devUtils.warn('Warning: %s', message);\r\n            break;\r\n        }\r\n        case 'bypass':\r\n            break;\r\n        default:\r\n            throw new Error(devUtils.formatMessage('Failed to react to an unhandled request: unknown strategy \"%s\". Please provide one of the supported strategies (\"bypass\", \"warn\", \"error\") or a custom callback function as the value of the \"onUnhandledRequest\" option.', strategy));\r\n    }\r\n}\n\nfunction readResponseCookies(request, response) {\r\n    store.add(Object.assign(Object.assign({}, request), { url: request.url.toString() }), response);\r\n    store.persist();\r\n}\n\nfunction handleRequest(request, handlers, options, emitter, handleRequestOptions) {\r\n    var _a, _b, _c;\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        emitter.emit('request:start', request);\r\n        // Perform bypassed requests (i.e. issued via \"ctx.fetch\") as-is.\r\n        if (request.headers.get('x-msw-bypass')) {\r\n            emitter.emit('request:end', request);\r\n            (_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, request);\r\n            return;\r\n        }\r\n        // Resolve a mocked response from the list of request handlers.\r\n        const lookupResult = yield getResponse(request, handlers, handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.resolutionContext);\r\n        const { handler, response } = lookupResult;\r\n        // When there's no handler for the request, consider it unhandled.\r\n        // Allow the developer to react to such cases.\r\n        if (!handler) {\r\n            onUnhandledRequest(request, handlers, options.onUnhandledRequest);\r\n            emitter.emit('request:unhandled', request);\r\n            emitter.emit('request:end', request);\r\n            (_b = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _b === void 0 ? void 0 : _b.call(handleRequestOptions, request);\r\n            return;\r\n        }\r\n        // When the handled request returned no mocked response, warn the developer,\r\n        // as it may be an oversight on their part. Perform the request as-is.\r\n        if (!response) {\r\n            devUtils.warn(`\\\nExpected response resolver to return a mocked response Object, but got %s. The original response is going to be used instead.\\\n\\n\n  \\u2022 %s\n    %s\\\n`, response, handler.info.header, handler.info.callFrame);\r\n            emitter.emit('request:end', request);\r\n            (_c = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onBypassResponse) === null || _c === void 0 ? void 0 : _c.call(handleRequestOptions, request);\r\n            return;\r\n        }\r\n        // Store all the received response cookies in the virtual cookie store.\r\n        readResponseCookies(request, response);\r\n        emitter.emit('request:match', request);\r\n        return new Promise((resolve) => {\r\n            var _a, _b, _c;\r\n            const requiredLookupResult = lookupResult;\r\n            const transformedResponse = ((_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.transformResponse) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, response)) ||\r\n                response;\r\n            (_b = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onMockedResponse) === null || _b === void 0 ? void 0 : _b.call(handleRequestOptions, transformedResponse, requiredLookupResult);\r\n            setTimeout(() => {\r\n                var _a;\r\n                (_a = handleRequestOptions === null || handleRequestOptions === void 0 ? void 0 : handleRequestOptions.onMockedResponseSent) === null || _a === void 0 ? void 0 : _a.call(handleRequestOptions, transformedResponse, requiredLookupResult);\r\n                emitter.emit('request:end', request);\r\n                resolve(transformedResponse);\r\n            }, (_c = response.delay) !== null && _c !== void 0 ? _c : 0);\r\n        });\r\n    });\r\n}\n\nconst createRequestListener = (context, options) => {\r\n    return (event, message) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const channel = createBroadcastChannel(event);\r\n        try {\r\n            const request = parseWorkerRequest(message.payload);\r\n            yield handleRequest(request, context.requestHandlers, options, context.emitter, {\r\n                transformResponse(response) {\r\n                    return Object.assign(Object.assign({}, response), { headers: response.headers.all() });\r\n                },\r\n                onBypassResponse() {\r\n                    return channel.send({\r\n                        type: 'MOCK_NOT_FOUND',\r\n                    });\r\n                },\r\n                onMockedResponse(response) {\r\n                    channel.send({\r\n                        type: 'MOCK_SUCCESS',\r\n                        payload: response,\r\n                    });\r\n                },\r\n                onMockedResponseSent(response, { handler, publicRequest, parsedRequest }) {\r\n                    if (!options.quiet) {\r\n                        handler.log(publicRequest, response, handler, parsedRequest);\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        catch (error) {\r\n            if (error instanceof NetworkError) {\r\n                // Treat emulated network error differently,\r\n                // as it is an intended exception in a request handler.\r\n                return channel.send({\r\n                    type: 'NETWORK_ERROR',\r\n                    payload: {\r\n                        name: error.name,\r\n                        message: error.message,\r\n                    },\r\n                });\r\n            }\r\n            // Treat all the other exceptions in a request handler\r\n            // as unintended, alerting that there is a problem needs fixing.\r\n            channel.send({\r\n                type: 'INTERNAL_ERROR',\r\n                payload: {\r\n                    status: 500,\r\n                    body: JSON.stringify({\r\n                        errorType: error.constructor.name,\r\n                        message: error.message,\r\n                        location: error.stack,\r\n                    }),\r\n                },\r\n            });\r\n        }\r\n    });\r\n};\n\nfunction requestIntegrityCheck(context, serviceWorker) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // Signal Service Worker to report back its integrity\r\n        context.workerChannel.send('INTEGRITY_CHECK_REQUEST');\r\n        const { payload: actualChecksum } = yield context.events.once('INTEGRITY_CHECK_RESPONSE');\r\n        // Compare the response from the Service Worker and the\r\n        // global variable set by Rollup during the build.\r\n        if (actualChecksum !== \"02f4ad4a2797f85668baf196e553d929\") {\r\n            throw new Error(`Currently active Service Worker (${actualChecksum}) is behind the latest published one (${\"02f4ad4a2797f85668baf196e553d929\"}).`);\r\n        }\r\n        return serviceWorker;\r\n    });\r\n}\n\n/**\r\n * Intercepts and defers any requests on the page\r\n * until the Service Worker instance is ready.\r\n * Must only be used in a browser.\r\n */\r\nfunction deferNetworkRequestsUntil(predicatePromise) {\r\n    // Defer any `XMLHttpRequest` requests until the Service Worker is ready.\r\n    const originalXhrSend = window.XMLHttpRequest.prototype.send;\r\n    window.XMLHttpRequest.prototype.send = function (...args) {\r\n        // Keep this function synchronous to comply with `XMLHttpRequest.prototype.send`,\r\n        // because that method is always synchronous.\r\n        until(() => predicatePromise).then(() => {\r\n            window.XMLHttpRequest.prototype.send = originalXhrSend;\r\n            this.send(...args);\r\n        });\r\n    };\r\n    // Defer any `fetch` requests until the Service Worker is ready.\r\n    const originalFetch = window.fetch;\r\n    window.fetch = (...args) => __awaiter(this, void 0, void 0, function* () {\r\n        yield until(() => predicatePromise);\r\n        window.fetch = originalFetch;\r\n        return window.fetch(...args);\r\n    });\r\n}\n\nfunction createResponseListener(context) {\r\n    return (_, message) => {\r\n        var _a;\r\n        const { payload: responseJson } = message;\r\n        /**\r\n         * CORS requests with `mode: \"no-cors\"` result in \"opaque\" responses.\r\n         * That kind of responses cannot be manipulated in JavaScript due\r\n         * to the security considerations.\r\n         * @see https://fetch.spec.whatwg.org/#concept-filtered-response-opaque\r\n         * @see https://github.com/mswjs/msw/issues/529\r\n         */\r\n        if ((_a = responseJson.type) === null || _a === void 0 ? void 0 : _a.includes('opaque')) {\r\n            return;\r\n        }\r\n        const response = new Response(responseJson.body || null, responseJson);\r\n        const isMockedResponse = response.headers.get('x-powered-by') === 'msw';\r\n        if (isMockedResponse) {\r\n            context.emitter.emit('response:mocked', response, responseJson.requestId);\r\n        }\r\n        else {\r\n            context.emitter.emit('response:bypass', response, responseJson.requestId);\r\n        }\r\n    };\r\n}\n\nfunction validateWorkerScope(registration, options) {\r\n    if (!(options === null || options === void 0 ? void 0 : options.quiet) && !location.href.startsWith(registration.scope)) {\r\n        devUtils.warn(`\\\nCannot intercept requests on this page because it's outside of the worker's scope (\"${registration.scope}\"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level (\"/\") of your application.\n- Set the \"Service-Worker-Allowed\" response header to allow out-of-scope workers.\\\n`);\r\n    }\r\n}\n\nconst createStartHandler = (context) => {\r\n    return function start(options, customOptions) {\r\n        const startWorkerInstance = () => __awaiter(this, void 0, void 0, function* () {\r\n            // Remove all previously existing event listeners.\r\n            // This way none of the listeners persists between Fast refresh\r\n            // of the application's code.\r\n            context.events.removeAllListeners();\r\n            // Handle requests signaled by the worker.\r\n            context.workerChannel.on('REQUEST', createRequestListener(context, options));\r\n            context.workerChannel.on('RESPONSE', createResponseListener(context));\r\n            const instance = yield getWorkerInstance(options.serviceWorker.url, options.serviceWorker.options, options.findWorker);\r\n            const [worker, registration] = instance;\r\n            if (!worker) {\r\n                const missingWorkerMessage = (customOptions === null || customOptions === void 0 ? void 0 : customOptions.findWorker)\r\n                    ? devUtils.formatMessage(`Failed to locate the Service Worker registration using a custom \"findWorker\" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at \"%s\".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n`, options.serviceWorker.url)\r\n                    : devUtils.formatMessage(`Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL \"%s\" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom \"serviceWorker.url\" option to point to the actual worker script location, or a custom \"findWorker\" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`, options.serviceWorker.url, location.host);\r\n                throw new Error(missingWorkerMessage);\r\n            }\r\n            context.worker = worker;\r\n            context.registration = registration;\r\n            context.events.addListener(window, 'beforeunload', () => {\r\n                if (worker.state !== 'redundant') {\r\n                    // Notify the Service Worker that this client has closed.\r\n                    // Internally, it's similar to disabling the mocking, only\r\n                    // client close event has a handler that self-terminates\r\n                    // the Service Worker when there are no open clients.\r\n                    context.workerChannel.send('CLIENT_CLOSED');\r\n                }\r\n                // Make sure we're always clearing the interval - there are reports that not doing this can\r\n                // cause memory leaks in headless browser environments.\r\n                window.clearInterval(context.keepAliveInterval);\r\n            });\r\n            // Check if the active Service Worker is the latest published one\r\n            const [integrityError] = yield until(() => requestIntegrityCheck(context, worker));\r\n            if (integrityError) {\r\n                devUtils.error(`\\\nDetected outdated Service Worker: ${integrityError.message}\n\nThe mocking is still enabled, but it's highly recommended that you update your Service Worker by running:\n\n$ npx msw init <PUBLIC_DIR>\n\nThis is necessary to ensure that the Service Worker is in sync with the library to guarantee its stability.\nIf this message still persists after updating, please report an issue: https://github.com/open-draft/msw/issues\\\n      `);\r\n            }\r\n            yield enableMocking(context, options).catch((err) => {\r\n                throw new Error(`Failed to enable mocking: ${err === null || err === void 0 ? void 0 : err.message}`);\r\n            });\r\n            context.keepAliveInterval = window.setInterval(() => context.workerChannel.send('KEEPALIVE_REQUEST'), 5000);\r\n            // Warn the user when loading the page that lies outside\r\n            // of the worker's scope.\r\n            validateWorkerScope(registration, context.startOptions);\r\n            return registration;\r\n        });\r\n        const workerRegistration = startWorkerInstance();\r\n        // Defer any network requests until the Service Worker instance is ready.\r\n        // This prevents a race condition between the Service Worker registration\r\n        // and application's runtime requests (i.e. requests on mount).\r\n        if (options.waitUntilReady) {\r\n            deferNetworkRequestsUntil(workerRegistration);\r\n        }\r\n        return workerRegistration;\r\n    };\r\n};\n\nfunction printStopMessage(args = {}) {\r\n    if (args.quiet) {\r\n        return;\r\n    }\r\n    console.log(`%c${devUtils.formatMessage('Mocking disabled.')}`, 'color:orangered;font-weight:bold;');\r\n}\n\nconst createStop = (context) => {\r\n    return function stop() {\r\n        var _a;\r\n        /**\r\n         * Signal the Service Worker to disable mocking for this client.\r\n         * Use this an an explicit way to stop the mocking, while preserving\r\n         * the worker-client relation. Does not affect the worker's lifecycle.\r\n         */\r\n        context.workerChannel.send('MOCK_DEACTIVATE');\r\n        window.clearInterval(context.keepAliveInterval);\r\n        printStopMessage({ quiet: (_a = context.startOptions) === null || _a === void 0 ? void 0 : _a.quiet });\r\n    };\r\n};\n\nfunction use(currentHandlers, ...handlers) {\r\n    currentHandlers.unshift(...handlers);\r\n}\r\nfunction restoreHandlers(handlers) {\r\n    handlers.forEach((handler) => {\r\n        handler.markAsSkipped(false);\r\n    });\r\n}\r\nfunction resetHandlers(initialHandlers, ...nextHandlers) {\r\n    return nextHandlers.length > 0 ? [...nextHandlers] : [...initialHandlers];\r\n}\n\nconst DEFAULT_START_OPTIONS = {\r\n    serviceWorker: {\r\n        url: '/mockServiceWorker.js',\r\n        options: null,\r\n    },\r\n    quiet: false,\r\n    waitUntilReady: true,\r\n    onUnhandledRequest: 'warn',\r\n    findWorker(scriptURL, mockServiceWorkerUrl) {\r\n        return scriptURL === mockServiceWorkerUrl;\r\n    },\r\n};\r\n/**\r\n * Returns resolved worker start options, merging the default options\r\n * with the given custom options.\r\n */\r\nfunction resolveStartOptions(initialOptions) {\r\n    return mergeRight(DEFAULT_START_OPTIONS, initialOptions || {});\r\n}\r\nfunction prepareStartHandler(handler, context) {\r\n    return (initialOptions) => {\r\n        context.startOptions = resolveStartOptions(initialOptions);\r\n        return handler(context.startOptions, initialOptions || {});\r\n    };\r\n}\n\n/**\r\n * Converts a given isomorphic request to a `MockedRequest` instance.\r\n */\r\nfunction parseIsomorphicRequest(request) {\r\n    const mockedRequest = {\r\n        id: request.id,\r\n        url: request.url,\r\n        method: request.method,\r\n        body: parseBody(request.body, request.headers),\r\n        headers: request.headers,\r\n        cookies: {},\r\n        redirect: 'manual',\r\n        referrer: '',\r\n        keepalive: false,\r\n        cache: 'default',\r\n        mode: 'cors',\r\n        referrerPolicy: 'no-referrer',\r\n        integrity: '',\r\n        destination: 'document',\r\n        bodyUsed: false,\r\n        credentials: 'same-origin',\r\n    };\r\n    // Set mocked request cookies from the `cookie` header of the original request.\r\n    // No need to take `credentials` into account, because in Node.js requests are intercepted\r\n    // _after_ they happen. Request issuer should have already taken care of sending relevant cookies.\r\n    // Unlike browser, where interception is on the worker level, _before_ the request happens.\r\n    const requestCookiesString = request.headers.get('cookie');\r\n    // Attach all the cookies from the virtual cookie store.\r\n    setRequestCookies(mockedRequest);\r\n    const requestCookies = requestCookiesString\r\n        ? parse_1(requestCookiesString)\r\n        : {};\r\n    // Merge both direct request cookies and the cookies inherited\r\n    // from other same-origin requests in the cookie store.\r\n    mockedRequest.cookies = Object.assign(Object.assign({}, mockedRequest.cookies), requestCookies);\r\n    return mockedRequest;\r\n}\n\nfunction createFallbackRequestListener(context, options) {\r\n    const interceptor = createInterceptor({\r\n        modules: [interceptFetch, interceptXMLHttpRequest],\r\n        resolver(request) {\r\n            return __awaiter(this, void 0, void 0, function* () {\r\n                const mockedRequest = parseIsomorphicRequest(request);\r\n                return handleRequest(mockedRequest, context.requestHandlers, options, context.emitter, {\r\n                    transformResponse(response) {\r\n                        return {\r\n                            status: response.status,\r\n                            statusText: response.statusText,\r\n                            headers: response.headers.all(),\r\n                            body: response.body,\r\n                        };\r\n                    },\r\n                    onMockedResponseSent(response, { handler, publicRequest, parsedRequest }) {\r\n                        if (!options.quiet) {\r\n                            handler.log(publicRequest, response, handler, parsedRequest);\r\n                        }\r\n                    },\r\n                });\r\n            });\r\n        },\r\n    });\r\n    interceptor.apply();\r\n    return interceptor;\r\n}\n\nfunction createFallbackStart(context) {\r\n    return function start(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            context.fallbackInterceptor = createFallbackRequestListener(context, options);\r\n            printStartMessage({\r\n                message: 'Mocking enabled (fallback mode).',\r\n                quiet: options.quiet,\r\n            });\r\n            return undefined;\r\n        });\r\n    };\r\n}\n\nfunction createFallbackStop(context) {\r\n    return function stop() {\r\n        var _a, _b;\r\n        (_a = context.fallbackInterceptor) === null || _a === void 0 ? void 0 : _a.restore();\r\n        printStopMessage({ quiet: (_b = context.startOptions) === null || _b === void 0 ? void 0 : _b.quiet });\r\n    };\r\n}\n\n/**\r\n * Pipes all emitted events from one emitter to another.\r\n */\r\nfunction pipeEvents(source, destination) {\r\n    const rawEmit = source.emit;\r\n    // @ts-ignore\r\n    if (rawEmit._isPiped) {\r\n        return;\r\n    }\r\n    source.emit = function (event, ...data) {\r\n        destination.emit(event, ...data);\r\n        return rawEmit.call(this, event, ...data);\r\n    };\r\n    // @ts-ignore\r\n    source.emit._isPiped = true;\r\n}\n\n// Declare the list of event handlers on the module's scope\r\n// so it persists between Fash refreshes of the application's code.\r\nlet listeners = [];\r\n/**\r\n * Creates a new mock Service Worker registration\r\n * with the given request handlers.\r\n * @param {RequestHandler[]} requestHandlers List of request handlers\r\n * @see {@link https://mswjs.io/docs/api/setup-worker `setupWorker`}\r\n */\r\nfunction setupWorker(...requestHandlers) {\r\n    requestHandlers.forEach((handler) => {\r\n        if (Array.isArray(handler))\r\n            throw new Error(devUtils.formatMessage('Failed to call \"setupWorker\" given an Array of request handlers (setupWorker([a, b])), expected to receive each handler individually: setupWorker(a, b).'));\r\n    });\r\n    // Error when attempting to run this function in a Node.js environment.\r\n    if (lib$3.exports.isNodeProcess()) {\r\n        throw new Error(devUtils.formatMessage('Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.'));\r\n    }\r\n    const emitter = new lib$1.StrictEventEmitter();\r\n    const publicEmitter = new lib$1.StrictEventEmitter();\r\n    pipeEvents(emitter, publicEmitter);\r\n    const context = {\r\n        startOptions: undefined,\r\n        worker: null,\r\n        registration: null,\r\n        requestHandlers: [...requestHandlers],\r\n        emitter,\r\n        workerChannel: {\r\n            on(eventType, callback) {\r\n                context.events.addListener(navigator.serviceWorker, 'message', (event) => {\r\n                    // Avoid messages broadcasted from unrelated workers.\r\n                    if (event.source !== context.worker) {\r\n                        return;\r\n                    }\r\n                    const message = jsonParse(event.data);\r\n                    if (!message) {\r\n                        return;\r\n                    }\r\n                    if (message.type === eventType) {\r\n                        callback(event, message);\r\n                    }\r\n                });\r\n            },\r\n            send(type) {\r\n                var _a;\r\n                (_a = context.worker) === null || _a === void 0 ? void 0 : _a.postMessage(type);\r\n            },\r\n        },\r\n        events: {\r\n            addListener(target, eventType, callback) {\r\n                target.addEventListener(eventType, callback);\r\n                listeners.push({ eventType, target, callback });\r\n                return () => {\r\n                    target.removeEventListener(eventType, callback);\r\n                };\r\n            },\r\n            removeAllListeners() {\r\n                for (const { target, eventType, callback } of listeners) {\r\n                    target.removeEventListener(eventType, callback);\r\n                }\r\n                listeners = [];\r\n            },\r\n            once(eventType) {\r\n                const bindings = [];\r\n                return new Promise((resolve, reject) => {\r\n                    const handleIncomingMessage = (event) => {\r\n                        try {\r\n                            const message = JSON.parse(event.data);\r\n                            if (message.type === eventType) {\r\n                                resolve(message);\r\n                            }\r\n                        }\r\n                        catch (error) {\r\n                            reject(error);\r\n                        }\r\n                    };\r\n                    bindings.push(context.events.addListener(navigator.serviceWorker, 'message', handleIncomingMessage), context.events.addListener(navigator.serviceWorker, 'messageerror', reject));\r\n                }).finally(() => {\r\n                    bindings.forEach((unbind) => unbind());\r\n                });\r\n            },\r\n        },\r\n        useFallbackMode: !('serviceWorker' in navigator) || location.protocol === 'file:',\r\n    };\r\n    const startHandler = context.useFallbackMode\r\n        ? createFallbackStart(context)\r\n        : createStartHandler(context);\r\n    const stopHandler = context.useFallbackMode\r\n        ? createFallbackStop(context)\r\n        : createStop(context);\r\n    return {\r\n        start: prepareStartHandler(startHandler, context),\r\n        stop() {\r\n            context.events.removeAllListeners();\r\n            context.emitter.removeAllListeners();\r\n            publicEmitter.removeAllListeners();\r\n            stopHandler();\r\n        },\r\n        use(...handlers) {\r\n            use(context.requestHandlers, ...handlers);\r\n        },\r\n        restoreHandlers() {\r\n            restoreHandlers(context.requestHandlers);\r\n        },\r\n        resetHandlers(...nextHandlers) {\r\n            context.requestHandlers = resetHandlers(requestHandlers, ...nextHandlers);\r\n        },\r\n        printHandlers() {\r\n            context.requestHandlers.forEach((handler) => {\r\n                const { header, callFrame } = handler.info;\r\n                const pragma = handler.info.hasOwnProperty('operationType')\r\n                    ? '[graphql]'\r\n                    : '[rest]';\r\n                console.groupCollapsed(`${pragma} ${header}`);\r\n                if (callFrame) {\r\n                    console.log(`Declaration: ${callFrame}`);\r\n                }\r\n                console.log('Handler:', handler);\r\n                if (handler instanceof RestHandler) {\r\n                    console.log('Match:', `https://mswjs.io/repl?path=${handler.info.path}`);\r\n                }\r\n                console.groupEnd();\r\n            });\r\n        },\r\n        events: {\r\n            on(...args) {\r\n                return publicEmitter.on(...args);\r\n            },\r\n            removeListener(...args) {\r\n                return publicEmitter.removeListener(...args);\r\n            },\r\n            removeAllListeners(...args) {\r\n                return publicEmitter.removeAllListeners(...args);\r\n            },\r\n        },\r\n    };\r\n}\n\nexport { handleRequest, parseIsomorphicRequest, setupWorker };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}